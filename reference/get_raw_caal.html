<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate unexpanded/raw length or marginal age compositions — get_raw_caal • nwfscSurvey</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate unexpanded/raw length or marginal age compositions — get_raw_caal"><meta name="description" content="Calculate unexpanded/raw length or marginal age compositions"><meta property="og:description" content="Calculate unexpanded/raw length or marginal age compositions"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nwfscSurvey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/nwfscSurvey.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculate unexpanded/raw length or marginal age compositions</h1>

      <div class="d-none name"><code>get_raw_caal.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate unexpanded/raw length or marginal age compositions</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_raw_caal</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">len_bins</span>,</span>
<span>  <span class="va">age_bins</span>,</span>
<span>  length_column_name <span class="op">=</span> <span class="st">"length_cm"</span>,</span>
<span>  age_column_name <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>  dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  month <span class="op">=</span> <span class="st">"Enter Month"</span>,</span>
<span>  fleet <span class="op">=</span> <span class="st">"Enter Fleet"</span>,</span>
<span>  partition <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  ageerr <span class="op">=</span> <span class="st">"Enter Numeric"</span>,</span>
<span>  printfolder <span class="op">=</span> <span class="st">"forSS3"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame that includes columns of year, sex, and length/ages. The data
frame can be survey data pulled using pull_bio from the data warehouse or any data frame
that includes column names of sex, year, and the comp_column_name.  The sex column is
expected to have sexes denoted by F, M, and U.</p></dd>


<dt id="arg-length-column-name">length_column_name<a class="anchor" aria-label="anchor" href="#arg-length-column-name"></a></dt>
<dd><p>The length column name to create conditional age-at-length
data for. The default is <code>length_cm</code>.</p></dd>


<dt id="arg-age-column-name">age_column_name<a class="anchor" aria-label="anchor" href="#arg-age-column-name"></a></dt>
<dd><p>The age column name to create conditional age-at-length
data for. The default is <code>age</code>.</p></dd>


<dt id="arg-dir">dir<a class="anchor" aria-label="anchor" href="#arg-dir"></a></dt>
<dd><p>Directory where output will be saved. The directory where the file should be saved.
If dir = NULL no output will be saved.</p></dd>


<dt id="arg-month">month<a class="anchor" aria-label="anchor" href="#arg-month"></a></dt>
<dd><p>Month the samples were collected based on the expected format for
Stock Synthesis to determine the length/age estimate to compare to. Default
"Enter Month".</p></dd>


<dt id="arg-fleet">fleet<a class="anchor" aria-label="anchor" href="#arg-fleet"></a></dt>
<dd><p>A fleet number to assign the composition data to based on the expected
format for Stock Synthesis. Default "Enter Fleet".</p></dd>


<dt id="arg-partition">partition<a class="anchor" aria-label="anchor" href="#arg-partition"></a></dt>
<dd><p>Partition to assign the composition data based on the expected
format for Stock Synthesis. Partition of 0 indicates that the composition data
include all composition data, 1 for discarded composition data, and 2 for retained
fish only. Default of 0.</p></dd>


<dt id="arg-ageerr">ageerr<a class="anchor" aria-label="anchor" href="#arg-ageerr"></a></dt>
<dd><p>Number of ageing error vector to apply to the age data based on
Stock Synthesis. Default "Enter Numeric".</p></dd>


<dt id="arg-printfolder">printfolder<a class="anchor" aria-label="anchor" href="#arg-printfolder"></a></dt>
<dd><p>A string that will be appended to <code>dir</code>, creating a folder
where the output will be saved. If specified as <code>""</code>,
the output will just be saved directly in <code>dir</code>. The default is <code>"forSS3"</code>.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>A logical that specifies if you want to print messages and
warnings to the console. The default is <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame of conditiona age-at-length compositions for sexed and
unsexed fish formatted for Stock Synthesis.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Creates a matrix of unexpanded (or raw) marginal length or age composition
data formatted for Stock Synthesis. The code will return composition data
for all sexes present in the data frame and no sex assignment is done for
unsexed fish. The function will create composition data for either
lengths or ages based on the comp_column_name. The function will return a
list of composition data based upon the sexes present in the data for a
two-sex model or all length/ages for single-sex model.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Chantel Wetzel</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">bio</span> <span class="op">&lt;-</span> <span class="fu"><a href="pull_bio.html">pull_bio</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  common_name <span class="op">=</span> <span class="st">"lingcod"</span>,</span></span>
<span class="r-in"><span>  survey <span class="op">=</span> <span class="st">"NWFSC.Combo"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">caal_data</span> <span class="op">&lt;-</span> <span class="fu">get_raw_caal</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">bio</span>,</span></span>
<span class="r-in"><span>  len_bins <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">70</span>, <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  age_bins <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">30</span>,</span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Chantel R. Wetzel, Kelli F. Johnson, Allan C. Hicks.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

